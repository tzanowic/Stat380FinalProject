---
title: "STAT 380 Final Project"
author: "Tristan Zanowic, Evan Spinney, Julian Sim"
output: html_notebook
---

# Front Matter
```{r}
library(tidyverse)
library(Lahman)
library(reshape2)
library(mdsr)
library(mvtnorm)
library(factoextra)
library(cluster)

```

# Loading the Data
```{r}
CovidDaily <- read.csv("WHO-COVID-19-global-data.csv")
CumulativeCovid <- read.csv("WHO-COVID-19-global-table-data (2).csv")
VaccineData <- read.csv("vaccination-data.csv")
GDPpCapita <- read.csv("API_NY.GDP.PCAP.CD_DS2_en_csv_v2_3930492.csv")
UrbanPop <- read.csv("API_SP.URB.TOTL.IN.ZS_DS2_en_csv_v2_3930188.csv")
HealthExpCap <- read.csv("API_SH.XPD.CHEX.PC.CD_DS2_en_csv_v2_3930363.csv")
AirTravel <- read.csv("API_IS.AIR.DPRT_DS2_en_csv_v2_3931315.csv")
AgeDependancy <- read.csv("API_SP.POP.DPND_DS2_en_csv_v2_3932148.csv")
MilitaryExp <- read.csv("API_MS.MIL.XPND.GD.ZS_DS2_en_csv_v2_3917458.csv")
```

```{r}
# Merging Data Variables
CountryNumbers <-
  inner_join(GDPpCapita, UrbanPop, by = "Country.Code") %>%
  dplyr::rename(urbpop = X2020, gdpcap = X2020_GDP_per_Capita)
CountryNumbers <-
  inner_join(CountryNumbers, HealthExpCap, by = "Country.Code")
CountryNumbers <-
  inner_join(CountryNumbers, AirTravel, by = "Country.Code")
CountryNumbers <-
  inner_join(CountryNumbers, AgeDependancy, by = "Country.Code")
CountryNumbers <-
  inner_join(CountryNumbers, MilitaryExp, by = "Country.Code")
```


```{r}
# Merging Numbers and Covid Rates 
FullStats <-
  inner_join(CountryNumbers, CumulativeCovid, by = "Name") %>%
  mutate(deathrate = Deaths...cumulative.total/Cases...cumulative.total) %>%
  dplyr::rename(totalcases = Cases...cumulative.total, totaldeaths = Deaths...cumulative.total) %>%
  mutate_all(na_if, "")
FullStats$gdpcap = as.numeric(gsub("[\\$,]", "", FullStats$gdpcap))
```


# EDA

```{r}
# Exploring COVID RATES by Region
FullStats %>%
  group_by(WHO.Region) %>%
  summarise(countries = n(), avgcovidcases = mean(totalcases), avgcoviddeaths = mean(totaldeaths), deathrate = (avgcoviddeaths/avgcovidcases))
```


```{r}
# Exploring death rates based on other parameters
FullStats %>%
  ggplot(aes(x = (gdpcap), y = deathrate, na.rm = TRUE)) +
  geom_point(aes(color = WHO.Region)) 
FullStats %>%
  ggplot(aes(x = (urbpop), y = deathrate, na.rm = TRUE)) +
  geom_point(aes(color = WHO.Region)) 
```

### Identifying Outliers

```{r}
# YEMEN, MONACO
```




